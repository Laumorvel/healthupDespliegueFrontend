"use strict";(self.webpackChunkhealthup=self.webpackChunkhealthup||[]).push([[258],{3258:(H,m,l)=>{l.r(m),l.d(m,{UserDashboardModule:()=>B});var u=l(9808),t=l(1223),b=function(){function n(a,e,o){this.el=a,this.vcr=e,this.renderer=o,this.dtOptions={}}return n.prototype.ngOnInit=function(){var a=this;this.dtTrigger?this.dtTrigger.subscribe(function(e){a.displayTable(e)}):this.displayTable(null)},n.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},n.prototype.displayTable=function(a){var e=this;a&&(this.dtOptions=a),this.dtInstance=new Promise(function(o,r){Promise.resolve(e.dtOptions).then(function(c){0===Object.keys(c).length&&0===$("tbody tr",e.el.nativeElement).length?r("Both the table and dtOptions cannot be empty"):setTimeout(function(){var s={rowCallback:function(g,d,p){if(c.columns){var h=c.columns;e.applyNgPipeTransform(g,h),e.applyNgRefTemplate(g,h,d)}c.rowCallback&&c.rowCallback(g,d,p)}};s=Object.assign({},c,s),e.dt=$(e.el.nativeElement).DataTable(s),o(e.dt)})})})},n.prototype.applyNgPipeTransform=function(a,e){e.filter(function(r){return r.ngPipeInstance&&!r.ngTemplateRef}).forEach(function(r){var c=r.ngPipeInstance,i=e.findIndex(function(p){return p.data===r.data}),s=a.childNodes.item(i),g=$(s).text(),d=c.transform(g);$(s).text(d)})},n.prototype.applyNgRefTemplate=function(a,e,o){var r=this;e.filter(function(i){return i.ngTemplateRef&&!i.ngPipeInstance}).forEach(function(i){var s=i.ngTemplateRef,g=s.ref,d=s.context,p=e.findIndex(function(G){return G.data===i.data}),h=a.childNodes.item(p);$(h).html("");var E=Object.assign({},d,null==d?void 0:d.userData,{adtData:o}),z=r.vcr.createEmbeddedView(g,E);r.renderer.appendChild(h,z.rootNodes[0])})},n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(t.Qsj))},n.\u0275dir=t.lG2({type:n,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),n}(),T=function(){function n(){}return n.forRoot=function(){return{ngModule:n}},n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez]]}),n}(),Z=l(5358);function v(n,a,e,o,r,c,i){try{var s=n[c](i),g=s.value}catch(d){return void e(d)}s.done?a(g):Promise.resolve(g).then(o,r)}function f(n){return function(){var a=this,e=arguments;return new Promise(function(o,r){var c=n.apply(a,e);function i(g){v(c,o,r,i,s,"next",g)}function s(g){v(c,o,r,i,s,"throw",g)}i(void 0)})}}var y=l(7579),U=l(3071),A=l(410),x=l(5874);function S(n,a){1&n&&(t.ynx(0,40),t._UZ(1,"img",41),t.BQk())}function q(n,a){1&n&&(t.ynx(0,null,42),t._UZ(2,"img",43),t.BQk())}function D(n,a){1&n&&(t.ynx(0,40),t._UZ(1,"img",44),t.BQk())}function C(n,a){1&n&&(t.ynx(0,45,42),t._UZ(2,"img",46),t.BQk())}function F(n,a){1&n&&(t.ynx(0,null,47),t._UZ(2,"img",48),t.BQk())}function O(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,S,2,0,"ng-container",37),t.YNc(5,q,3,0,"ng-container",38),t.qZA(),t.TgZ(6,"td"),t.YNc(7,D,2,0,"ng-container",37),t.YNc(8,C,3,0,"ng-container",39),t.YNc(9,F,3,0,"ng-container",38),t.qZA(),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.fecha),t.xp6(2),t.Q6J("ngIf","food"===e.tipo),t.xp6(1),t.Q6J("ngIf","sport"===e.tipo),t.xp6(2),t.Q6J("ngIf",null!=e.noRegistrado),t.xp6(1),t.Q6J("ngIf",e.logradoDia&&null==e.noRegistrado),t.xp6(1),t.Q6J("ngIf",!e.logradoDia&&null==e.noRegistrado)}}function Q(n,a){1&n&&(t.ynx(0,40),t._UZ(1,"img",44),t.BQk())}function j(n,a){1&n&&(t.ynx(0,45,42),t._UZ(2,"img",46),t.BQk())}function I(n,a){1&n&&(t.ynx(0,null,47),t._UZ(2,"img",48),t.BQk())}function k(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",41),t.qZA(),t.TgZ(5,"td"),t.YNc(6,Q,2,0,"ng-container",37),t.YNc(7,j,3,0,"ng-container",39),t.YNc(8,I,3,0,"ng-container",38),t.qZA(),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.fecha),t.xp6(4),t.Q6J("ngIf",null!=e.noRegistrado),t.xp6(1),t.Q6J("ngIf",e.logradoDia&&null==e.noRegistrado),t.xp6(1),t.Q6J("ngIf",!e.logradoDia&&null==e.noRegistrado)}}function w(n,a){1&n&&(t.ynx(0,40),t._UZ(1,"img",44),t.BQk())}function M(n,a){1&n&&(t.ynx(0,45,42),t._UZ(2,"img",46),t.BQk())}function N(n,a){1&n&&(t.ynx(0,null,47),t._UZ(2,"img",48),t.BQk())}function R(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",43),t.qZA(),t.TgZ(5,"td"),t.YNc(6,w,2,0,"ng-container",37),t.YNc(7,M,3,0,"ng-container",39),t.YNc(8,N,3,0,"ng-container",38),t.qZA(),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.fecha),t.xp6(4),t.Q6J("ngIf",null!=e.noRegistrado),t.xp6(1),t.Q6J("ngIf",e.logradoDia&&null==e.noRegistrado),t.xp6(1),t.Q6J("ngIf",!e.logradoDia&&null==e.noRegistrado)}}const _=function(n){return{width:n}},J=[{path:"",component:(()=>{class n{constructor(e,o,r){this.userService=e,this.datepipe=o,this.authService=r,this.user=JSON.parse(localStorage.getItem("user")),this.idUser=this.user.id,this.registro=[],this.registroFood=[],this.registroSport=[],this.dtOptions={},this.dtTrigger=new y.x,this.enviadoFood=!1,this.enviadoSport=!1,this.fechaHoy=this.datepipe.transform(new Date,"dd-MM-yyyy"),this.objetivoFood=this.user.objetivoFoodSemanal,this.objetivoSport=this.user.objetivoSportSemanal,this.avanceFood=this.user.avanceSemanaFood,this.avanceSport=this.user.avanceSemanaSport,this.porcentajeSport="0",this.porcentajeFood="0"}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:5},this.cargaUser(),this.cargaRegistro()}pulsado(e,o){var r=this;let c=this.registro.findIndex(i=>i.fecha===this.fechaHoy&&i.tipo===e);if(-1==this.registro.findIndex(i=>i.fecha===this.fechaHoy&&i.tipo===e&&i.logradoDia===o))if(-1==c)this.userService.newRegistro(this.creaLogro(e,o)).subscribe(function(){var i=f(function*(s){r.registro.push(s),r.getUser(e),r.dtElement.dtInstance.then(g=>{g.destroy(),r.dtTrigger.next(r.registro)})});return function(s){return i.apply(this,arguments)}}());else{const i=this.registro.find(s=>s.fecha===this.fechaHoy&&s.tipo===e,c);null!=i&&(i.logradoDia=o,this.userService.modificaRegistro(i).subscribe(function(){var s=f(function*(g){r.registro.splice(c,1,g),r.getUser(e),r.dtElement.dtInstance.then(d=>{d.destroy(),r.dtTrigger.next(r.registro)})});return function(g){return s.apply(this,arguments)}}()))}}creaLogro(e,o){return{fecha:this.fechaHoy,tipo:e,logradoDia:o}}cargaRegistro(){this.userService.getRegistro().subscribe(e=>{this.registro=e,this.cargaRegistroPorTipo("food"),this.cargaRegistroPorTipo("sport"),this.dtElement.dtInstance.then(o=>{o.destroy(),this.dtTrigger.next(e)})})}cargaPorcentaje(e){if("sport"==e){let r=100/this.objetivoSport*Number(this.avanceSport);this.porcentajeSport=r.toString(),this.objetivoSport<=this.avanceSport&&(this.porcentajeSport="100")}else{let r=100/this.objetivoFood*Number(this.avanceFood);this.porcentajeFood=r.toString(),this.objetivoFood<=this.avanceFood&&(this.porcentajeFood="100")}}cargaRegistroPorTipo(e){let o=this.registro.filter(r=>r.tipo==e);"food"==e?(this.registroFood=o,this.dtElement.dtInstance.then(r=>{r.destroy(),this.dtTrigger.next(o)})):(this.registroSport=o,this.dtElement.dtInstance.then(r=>{r.destroy(),this.dtTrigger.next(o)}))}getUser(e){var o=this;return f(function*(){yield o.authService.loginGetUser().subscribe(r=>{o.user=r,o.avanceFood=r.avanceSemanaFood,o.avanceSport=r.avanceSemanaSport,localStorage.setItem("user",JSON.stringify(r)),o.cargaPorcentaje(e),o.cargaRegistroPorTipo(e)})})()}cargaUser(){this.authService.loginGetUser().subscribe(e=>{this.user=e,this.avanceFood=e.avanceSemanaFood,this.avanceSport=e.avanceSemanaSport,this.cargaPorcentaje("food"),this.cargaPorcentaje("sport")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.K),t.Y36(u.uU),t.Y36(A.u))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-dashboard"]],viewQuery:function(e,o){if(1&e&&t.Gf(b,5),2&e){let r;t.iGM(r=t.CRH())&&(o.dtElement=r.first)}},decls:82,vars:20,consts:[[1,"row","mb-5"],[1,"nombre"],["src","../../assets/img/account.png",1,"iconito"],[1,"title","text-center","mt-5"],[1,"col-md-4"],[1,"col-md-2","card","mt-5","mb-5","border-1","cartaFood"],[1,"card-content","text-center","mt-5","justify-content-center"],[1,"mb-3","avance","title"],[1,"progress","mb-4"],["role","progressbar","aria-valuenow","","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","active",3,"ngStyle"],["src","../../assets/img/dumbbell.png",1,"icon"],[1,"card","mt-5","border-0","w-100","d-inline-block"],[1,"btn","boton","yes",3,"click"],["src","../../assets/img/cheque.png","name","yes",1,"iconito"],[1,"btn","boton","no",3,"click"],["src","../../assets/img/incorrect.png","name","no",1,"iconito"],[1,"col-md-2","card","mt-5","mb-5","border-1","cartaSport"],[1,"card-content","text-center","mt-5"],["src","../../assets/img/nutrition.png",1,"icon"],[1,"card","mt-5","w-100","border-0","d-inline-block"],[1,"boton","btn","yes",3,"click"],[1,"boton","btn","no",3,"click"],[1,"container","justify-content-center","col-md-9","col-sm-12","col-xs-12"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["data-bs-toggle","tab","data-bs-target","#all","type","button","role","tab","aria-current","page","aria-controls","all","aria-selected","true",1,"nav-link","active"],[1,"nav-item"],["data-bs-toggle","tab","data-bs-target","#food","type","button","role","tab","aria-controls","food","aria-selected","false",1,"nav-link"],["data-bs-toggle","tab","data-bs-target","#sport","type","button","role","tab","aria-controls","sport","aria-selected","false",1,"nav-link"],[1,"tab-content"],["id","all","role","tabpanel","aria-labelledby","all-tab",1,"tab-pane","fade","show","active"],["datatable","",1,"table","table-striped","table-bordered","row-border","table-hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","food","role","tabpanel","aria-labelledby","food-tab",1,"tab-pane","fade"],["datatable","ng",1,"table","table-striped","table-bordered","row-border","table-hover",3,"dtOptions","dtTrigger"],["id","sport","role","tabpanel","aria-labelledby","sport-tab",1,"tab-pane","fade"],["ubicacion","Dashboard"],[";else","","second","",4,"ngIf"],[4,"ngIf"],[";else","","third","",4,"ngIf"],[";else","","second",""],["src","../../assets/img/nutrition.png",1,"iconito"],["second",""],["src","../../assets/img/dumbbell.png",1,"iconito"],["src","../../assets/img/signo-de-interrogacion.png",1,"iconito"],[";else","","third",""],["src","../../assets/img/garrapata.png",1,"iconito"],["third",""],["src","../../assets/img/cancel.png",1,"iconito"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"p",1),t._UZ(2,"img",2),t._uU(3),t.qZA(),t.TgZ(4,"p",3),t._uU(5,"Did you accomplish your goals today?"),t.qZA(),t._UZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t.TgZ(9,"div",7),t._uU(10),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"div",9),t.qZA(),t._UZ(13,"img",10),t.TgZ(14,"div",11),t.TgZ(15,"button",12),t.NdJ("click",function(){return o.pulsado("sport",!0)}),t._UZ(16,"img",13),t.qZA(),t.TgZ(17,"button",14),t.NdJ("click",function(){return o.pulsado("sport",!1)}),t._UZ(18,"img",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",16),t.TgZ(20,"div",17),t.TgZ(21,"div",7),t._uU(22),t.qZA(),t.TgZ(23,"div",8),t._UZ(24,"div",9),t.qZA(),t._UZ(25,"img",18),t.TgZ(26,"div",19),t.TgZ(27,"button",20),t.NdJ("click",function(){return o.pulsado("food",!0)}),t._UZ(28,"img",13),t.qZA(),t.TgZ(29,"button",21),t.NdJ("click",function(){return o.pulsado("food",!1)}),t._UZ(30,"img",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(31,"div",4),t.qZA(),t.TgZ(32,"div",22),t.TgZ(33,"ul",23),t.TgZ(34,"li",24),t.TgZ(35,"button",25),t._uU(36," All "),t.qZA(),t.qZA(),t.TgZ(37,"li",26),t.TgZ(38,"button",27),t._uU(39," Meal tracking "),t.qZA(),t.qZA(),t.TgZ(40,"li",26),t.TgZ(41,"button",28),t._uU(42," Training tracking "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",29),t.TgZ(44,"div",30),t.TgZ(45,"table",31),t.TgZ(46,"thead"),t.TgZ(47,"tr"),t.TgZ(48,"th"),t._uU(49,"Date"),t.qZA(),t.TgZ(50,"th"),t._uU(51,"Type"),t.qZA(),t.TgZ(52,"th"),t._uU(53,"Success"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(54,"tbody"),t.YNc(55,O,10,6,"tr",32),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",33),t.TgZ(57,"table",34),t.TgZ(58,"thead"),t.TgZ(59,"tr"),t.TgZ(60,"th"),t._uU(61,"Date"),t.qZA(),t.TgZ(62,"th"),t._uU(63,"Type"),t.qZA(),t.TgZ(64,"th"),t._uU(65,"Success"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(66,"tbody"),t.YNc(67,k,9,4,"tr",32),t.qZA(),t.qZA(),t.qZA(),t.TgZ(68,"div",35),t.TgZ(69,"table",31),t.TgZ(70,"thead"),t.TgZ(71,"tr"),t.TgZ(72,"th"),t._uU(73,"Date"),t.qZA(),t.TgZ(74,"th"),t._uU(75,"Type"),t.qZA(),t.TgZ(76,"th"),t._uU(77,"Success"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(78,"tbody"),t.YNc(79,R,9,4,"tr",32),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(80,"div"),t._UZ(81,"app-boton-flotante",36),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",o.user.username,""),t.xp6(7),t.AsE(" ",o.avanceSport," / ",o.objetivoSport," "),t.xp6(2),t.Q6J("ngStyle",t.VKq(16,_,o.porcentajeSport+"%")),t.xp6(10),t.AsE("",o.avanceFood," / ",o.objetivoFood,""),t.xp6(2),t.Q6J("ngStyle",t.VKq(18,_,o.porcentajeFood+"%")),t.xp6(21),t.Q6J("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),t.xp6(10),t.Q6J("ngForOf",o.registro),t.xp6(2),t.Q6J("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),t.xp6(10),t.Q6J("ngForOf",o.registroFood),t.xp6(2),t.Q6J("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),t.xp6(10),t.Q6J("ngForOf",o.registroSport))},directives:[u.PC,b,u.sg,x.b,u.O5],styles:['@import"https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Dancing+Script&family=Roboto+Serif:wght@100&family=Satisfy&family=Yellowtail&display=swap";.icon[_ngcontent-%COMP%]{max-width:50px;height:auto}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #fef9c7;font-family:Satisfy,cursive;font-weight:700;font-size:70px}.iconito[_ngcontent-%COMP%]{max-width:30px;height:auto}.boton[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;border:solid 1px;margin-bottom:2em}.yes[_ngcontent-%COMP%]{margin-right:2em;background-color:#a1cfa1}.no[_ngcontent-%COMP%]{background-color:#d6b5b5}.cartaFood[_ngcontent-%COMP%]{margin-right:10px}.avance[_ngcontent-%COMP%]{font-size:40px}.nombre[_ngcontent-%COMP%]{font-weight:700;margin-left:2rem;margin-top:1rem;left:91.5%;position:absolute}']}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(J)],Z.Bz]}),n})();var Y=l(1515);let B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[u.uU],imports:[[u.ez,P,Y.SharedModule,T]]}),n})()}}]);